{"version":3,"sources":["../../src/js/configfs.js"],"names":["background","require","command","fsUtil","queueFs","queuedFilesystem","storeLocalFolder","prompt","message","then","yes","bg","selectDirectory","dir","localStorage","configDir","restart","define","doc","exec","readOnly","resolve","watchSelf","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,aAAaC,QAAQ,cAAR,CAAnB;AACA,MAAMC,UAAUD,QAAQ,WAAR,CAAhB;AACA,MAAME,SAASF,QAAQ,WAAR,CAAf;AACA,MAAMG,UAAUD,OAAOE,gBAAP,EAAhB;;AAEAD,QAAQE,gBAAR,GAA2B,YAAW;AAClC,WAAOL,QAAQ,MAAR,EAAgBM,MAAhB,CAAuB;AAC1BC,iBAAS;AADiB,KAAvB,EAEJC,IAFI,CAEC,UAASC,GAAT,EAAc;AAClB,YAAIA,GAAJ,EAAS;AACL,mBAAOV,WAAWS,IAAX,CAAgBE,MAAMA,GAAGC,eAAH,EAAtB,EAA4CH,IAA5C,CAAiDI,OAAO;AAC3DC,6BAAaC,SAAb,GAAyBF,GAAzB;AACA,uBAAOZ,QAAQ,MAAR,EAAgBM,MAAhB,CAAuB;AAC1BC,6BAAS;AADiB,iBAAvB,EAEJC,IAFI,CAEC,YAAW;AACfT,+BAAWgB,OAAX;AACH,iBAJM,CAAP;AAKH,aAPM,CAAP;AAQH;AACJ,KAbM,CAAP;AAcH,CAfD;;AAiBAd,QAAQe,MAAR,CAAe,2CAAf,EAA4D;AACxDC,SAAK,gEADmD;AAExDC,UAAM,YAAW;AACbf,gBAAQE,gBAAR;AACH,KAJuD;AAKxDc,cAAU;AAL8C,CAA5D;;AAQAhB,QAAQiB,OAAR,CAAgBpB,QAAQ,aAAR,EAAuB;AACnCqB,eAAW;AADwB,CAAvB,CAAhB;;AAIAC,OAAOC,OAAP,GAAiBpB,OAAjB","file":"configfs.js","sourcesContent":["'use strict';\n\nconst background = require('./background');\nconst command = require('./command');\nconst fsUtil = require(\"./fs/util\");\nconst queueFs = fsUtil.queuedFilesystem();\n\nqueueFs.storeLocalFolder = function() {\n    return require(\"./ui\").prompt({\n        message: \"Do you want to pick a folder to store Zed's configuration in?\"\n    }).then(function(yes) {\n        if (yes) {\n            return background.then(bg => bg.selectDirectory()).then(dir => {\n                localStorage.configDir = dir;\n                return require(\"./ui\").prompt({\n                    message: \"Configuration location set, zed will now restart.\"\n                }).then(function() {\n                    background.restart();\n                });\n            });\n        }\n    });\n};\n\ncommand.define(\"Configuration:Set Configuration Directory\", {\n    doc: \"Choose which directory Zed should store it's configuration in.\",\n    exec: function() {\n        queueFs.storeLocalFolder();\n    },\n    readOnly: true\n});\n\nqueueFs.resolve(require('./fs/config')({\n    watchSelf: true\n}));\n\nmodule.exports = queueFs;\n"]}