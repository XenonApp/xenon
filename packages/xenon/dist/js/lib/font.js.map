{"version":3,"sources":["../../../src/js/lib/font.js"],"names":["test_string","test_font","notInstalledWidth","testbed","guid","$","document","ready","length","append","width","module","exports","isInstalled","_","memoize","font","style","find","remove","end","empty"],"mappings":";;AAAA;AACA,IAAIA,cAAc,kBAAlB;AACA,IAAIC,YAAY,iBAAhB;AACA,IAAIC,oBAAoB,CAAxB;AACA,IAAIC,UAAU,IAAd;AACA,IAAIC,OAAO,CAAX;;AAEAC,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAW;AACzB,QAAIF,EAAE,oBAAF,EAAwBG,MAA5B,EAAoC;;AAEpCH,MAAE,MAAF,EAAUI,MAAV,CAAiB,MAAM,0KAAN,GAAmLR,SAAnL,GAA+L,MAA/L,GAAwM,QAAzN;;AAGAI,MAAE,MAAF,EAAUI,MAAV,CAAiB,8BAAjB,EAAiDA,MAAjD,CAAwD,mDAAmDT,WAAnD,GAAiE,SAAzH;AACAG,cAAUE,EAAE,cAAF,CAAV;AACAH,wBAAoBG,EAAE,oBAAF,EAAwBK,KAAxB,EAApB;AACH,CATD;;AAWAC,OAAOC,OAAP,GAAiB;AACbC,iBAAaC,EAAEC,OAAF,CAAU,UAASC,IAAT,EAAe;AAClCZ;;AAEA,YAAIa,QAAQ,MAAM,qCAAN,GAA8Cb,IAA9C,GAAqD,6CAArD,GAAqGY,IAArG,GAA4G,IAA5G,GAAmHf,SAAnH,GAA+H,OAA/H,GAAyI,SAArJ;;AAEAI,UAAE,MAAF,EAAUa,IAAV,CAAe,gBAAf,EAAiCC,MAAjC,GAA0CC,GAA1C,GAAgDX,MAAhD,CAAuDQ,KAAvD;AACAd,gBAAQkB,KAAR,GAAgBZ,MAAhB,CAAuB,uBAAuBL,IAAvB,GAA8B,qBAA9B,GAAsDJ,WAAtD,GAAoE,SAA3F;;AAEA,eAAQG,QAAQe,IAAR,CAAa,MAAb,EAAqBR,KAArB,MAAgCR,iBAAxC;AACH,KATY;AADA,CAAjB","file":"font.js","sourcesContent":["// Adapted from: http://remysharp.com/2008/07/08/how-to-detect-if-a-font-is-installed-only-using-javascript/\nvar test_string = 'mmmmmmmmmwwwwwww';\nvar test_font = '\"Comic Sans MS\"';\nvar notInstalledWidth = 0;\nvar testbed = null;\nvar guid = 0;\n\n$(document).ready(function() {\n    if ($('#fontInstalledTest').length) return;\n\n    $('head').append('<' + 'style> #fontInstalledTest, #fontTestBed { position: absolute; left: -9999px; top: 0; visibility: hidden; } #fontInstalledTest { font-size: 50px!important; font-family: ' + test_font + ';}</' + 'style>');\n\n\n    $('body').append('<div id=\"fontTestBed\"></div>').append('<span id=\"fontInstalledTest\" class=\"fonttest\">' + test_string + '</span>');\n    testbed = $('#fontTestBed');\n    notInstalledWidth = $('#fontInstalledTest').width();\n});\n\nmodule.exports = {\n    isInstalled: _.memoize(function(font) {\n        guid++;\n\n        var style = '<' + 'style id=\"fonttestStyle\"> #fonttest' + guid + ' { font-size: 50px!important; font-family: ' + font + ', ' + test_font + '; } <' + '/style>';\n\n        $('head').find('#fonttestStyle').remove().end().append(style);\n        testbed.empty().append('<span id=\"fonttest' + guid + '\" class=\"fonttest\">' + test_string + '</span>');\n\n        return (testbed.find('span').width() != notInstalledWidth);\n    })\n};"]}