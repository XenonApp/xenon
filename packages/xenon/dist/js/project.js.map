{"version":3,"sources":["../../src/js/project.js"],"names":["opts","require","command","eventbus","openUi","$","text","get","define","doc","exec","openInNewWindow","showOpenUi","readOnly","prompt","message","input","then","name","set","renameProject","emit"],"mappings":"AAAA;AACA;;;;;AAKA,MAAMA,OAAOC,QAAQ,eAAR,CAAb;AACA,MAAMC,UAAUD,QAAQ,WAAR,CAAhB;AACA,MAAME,WAAWF,QAAQ,YAAR,CAAjB;AACA,MAAMG,SAASH,QAAQ,WAAR,CAAf;;AAEAI,EAAE,OAAF,EAAWC,IAAX,CAAgBN,KAAKO,GAAL,CAAS,OAAT,CAAhB;;AAEAL,QAAQM,MAAR,CAAe,6BAAf,EAA8C;AAC1CC,SAAK,yEADqC;AAE1CC,UAAM,YAAW;AACbN,eAAOO,eAAP,GAAyB,IAAzB;AACAP,eAAOQ,UAAP;AACH,KALyC;AAM1CC,cAAU;AANgC,CAA9C;;AASAX,QAAQM,MAAR,CAAe,gBAAf,EAAiC;AAC7BC,SAAK,qCADwB;AAE7BC,UAAM,YAAW;AACbT,gBAAQ,MAAR,EAAgBa,MAAhB,CAAuB;AACnBC,qBAAS,oBADU;AAEnBC,mBAAOhB,KAAKO,GAAL,CAAS,OAAT;AAFY,SAAvB,EAGGU,IAHH,CAGQ,UAASC,IAAT,EAAe;AACnB,gBAAI,CAACA,IAAL,EAAW;AACP;AACA;AACH;AACDlB,iBAAKmB,GAAL,CAAS,OAAT,EAAkBD,IAAlB;AACAjB,oBAAQ,WAAR,EAAqBmB,aAArB,CAAmCpB,KAAKO,GAAL,CAAS,KAAT,CAAnC,EAAoDW,IAApD;AACAf,qBAASkB,IAAT,CAAc,qBAAd;AACH,SAXD;AAYH,KAf4B;AAgB7BR,cAAU;AAhBmB,CAAjC","file":"project.js","sourcesContent":["'use strict';\n/**\n * The project module exposes the same API as a file system module, but\n * picks an implementation based on the \"url\" argument passed to the editor URL\n */\n \nconst opts = require(\"./lib/options\");\nconst command = require('./command');\nconst eventbus = require('./eventbus');\nconst openUi = require('./open_ui');\n\n$(\"title\").text(opts.get(\"title\"));\n\ncommand.define(\"Project:Open Project Picker\", {\n    doc: \"Open the initial Zed window that allows you to switch between projects.\",\n    exec: function() {\n        openUi.openInNewWindow = true;\n        openUi.showOpenUi();\n    },\n    readOnly: true\n});\n\ncommand.define(\"Project:Rename\", {\n    doc: \"Rename the current project on disk.\",\n    exec: function() {\n        require(\"./ui\").prompt({\n            message: \"Rename project to:\",\n            input: opts.get('title')\n        }).then(function(name) {\n            if (!name) {\n                // canceled\n                return;\n            }\n            opts.set(\"title\", name);\n            require(\"./history\").renameProject(opts.get(\"url\"), name);\n            eventbus.emit(\"projecttitlechanged\");\n        });\n    },\n    readOnly: true\n});\n"]}