{"version":3,"sources":["../../../../../src/config/default/mode/livescript/index.js"],"names":["symbol","xenon","FN_REGEX","indexToLine","util","module","exports","info","match","path","tags","text","inputs","exec","push","locator","index","updateSymbols"],"mappings":";;AAAA,IAAIA,SAASC,MAAMD,MAAnB;;AAEA;;;;;;;AAOA,IAAIE,WAAW,mFAAf;AACA,IAAIC,cAAcF,MAAMG,IAAN,CAAWD,WAA7B;;AAEA;;;AAGAE,OAAOC,OAAP,GAAiB,UAASC,IAAT,EAAe;AAC5B,QAAIC,KAAJ;AACA,QAAIC,OAAOF,KAAKE,IAAhB;AACA,QAAIC,OAAO,EAAX;AACA,QAAIC,OAAOJ,KAAKK,MAAL,CAAYD,IAAvB;AACA;AACA,WAAOH,QAAQN,SAASW,IAAT,CAAcF,IAAd,CAAf,EAAoC;AAChCD,aAAKI,IAAL,CAAU;AACNL,kBAAMA,IADA;AAENT,oBAAQQ,MAAM,CAAN,CAFF;AAGNO,qBAASZ,YAAYQ,IAAZ,EAAkBH,MAAMQ,KAAxB;AAHH,SAAV;AAKH;AACD,WAAOhB,OAAOiB,aAAP,CAAqBR,IAArB,EAA2BC,IAA3B,CAAP;AACH,CAdD","file":"index.js","sourcesContent":["var symbol = xenon.symbol;\n\n/*\n  These symbols are rough at best\n  use livescript lexer/tokenizer output insead?\n\n  If the livescript AST output had line numbers that\n  would be perfect.\n*/\nvar FN_REGEX = /((?![\\d\\s])[$\\w\\xAA-\\uFFDC](?:(?!\\s)[$\\w\\xAA-\\uFFDC]|-[A-Za-z])*)\\s*(=|:|!=|\\?=)/g;\nvar indexToLine = xenon.util.indexToLine;\n\n/**\n * inputs: text\n */\nmodule.exports = function(info) {\n    var match;\n    var path = info.path;\n    var tags = [];\n    var text = info.inputs.text;\n    // Regular old functions\n    while (match = FN_REGEX.exec(text)) {\n        tags.push({\n            path: path,\n            symbol: match[1],\n            locator: indexToLine(text, match.index)\n        });\n    }\n    return symbol.updateSymbols(path, tags);\n};\n"]}