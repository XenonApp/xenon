{"version":3,"sources":["../../../../src/config/default/command/external_filter.js"],"names":["session","xenon","fs","ui","module","exports","info","text","inputs","selectionText","range","selectionRange","prompt","then","cmd","run","split","output","replaceRange","path"],"mappings":";;AAAA,IAAIA,UAAUC,MAAMD,OAApB;AACA,IAAIE,KAAKD,MAAMC,EAAf;AACA,IAAIC,KAAKF,MAAME,EAAf;;AAEAC,OAAOC,OAAP,GAAiB,UAASC,IAAT,EAAe;AAC5B,QAAIC,OAAOD,KAAKE,MAAL,CAAYC,aAAvB;AACA,QAAIC,QAAQJ,KAAKE,MAAL,CAAYG,cAAxB;AACAR,OAAGS,MAAH,CAAU,oCAAV,EAAgD,MAAhD,EAAwDC,IAAxD,CAA6D,UAASC,GAAT,EAAc;AACvE,YAAG,CAACA,GAAJ,EAAS;AACL;AACH;AACD,eAAOZ,GAAGa,GAAH,CAAOD,IAAIE,KAAJ,CAAU,KAAV,CAAP,EAAyBT,IAAzB,EAA+BM,IAA/B,CAAoC,UAASI,MAAT,EAAiB;AACxD,mBAAOjB,QAAQkB,YAAR,CAAqBZ,KAAKa,IAA1B,EAAgCT,KAAhC,EAAuCO,MAAvC,CAAP;AACH,SAFM,CAAP;AAGH,KAPD;AAQH,CAXD","file":"external_filter.js","sourcesContent":["var session = xenon.session;\nvar fs = xenon.fs;\nvar ui = xenon.ui;\n\nmodule.exports = function(info) {\n    var text = info.inputs.selectionText;\n    var range = info.inputs.selectionRange;\n    ui.prompt(\"External program to filter through\", \"sort\").then(function(cmd) {\n        if(!cmd) {\n            return;\n        }\n        return fs.run(cmd.split(/\\s+/), text).then(function(output) {\n            return session.replaceRange(info.path, range, output);\n        });\n    });\n};\n"]}