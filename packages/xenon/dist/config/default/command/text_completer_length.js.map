{"version":3,"sources":["../../../../src/config/default/command/text_completer_length.js"],"names":["session","xenon","splitRegex","module","exports","info","path","getText","then","text","words","split","wordScores","Map","forEach","word","set","Math","max","length","wordList","keys","map","name","value","score","get","meta"],"mappings":";;AAAA,IAAIA,UAAUC,MAAMD,OAApB;;AAEA,IAAIE,aAAa,oBAAjB;;AAEAC,OAAOC,OAAP,GAAiB,UAASC,IAAT,EAAe;AAC5B,QAAIC,OAAOD,KAAKC,IAAhB;;AAEA,WAAON,QAAQO,OAAR,CAAgBD,IAAhB,EAAsBE,IAAtB,CAA2B,UAASC,IAAT,EAAe;AAC7CA,eAAOA,IAAP;AACA,YAAIC,QAAQD,KAAKE,KAAL,CAAWT,UAAX,CAAZ;AACA,YAAIU,aAAa,IAAIC,GAAJ,EAAjB;;AAEAH,cAAMI,OAAN,CAAc,UAASC,IAAT,EAAe;AACzBH,uBAAWI,GAAX,CAAeD,IAAf,EAAqB,MAAME,KAAKC,GAAL,CAAS,CAAT,EAAY,MAAMH,KAAKI,MAAvB,CAA3B;AACH,SAFD;;AAIA,YAAIC,WAAWR,WAAWS,IAAX,EAAf;AACA,eAAOD,SAASE,GAAT,CAAa,UAASP,IAAT,EAAe;AAC/B,mBAAO;AACHQ,sBAAMR,IADH;AAEHS,uBAAOT,IAFJ;AAGHU,uBAAOb,WAAWc,GAAX,CAAeX,IAAf,CAHJ;AAIHY,sBAAM;AAJH,aAAP;AAMH,SAPM,CAAP;AAQH,KAlBM,CAAP;AAmBH,CAtBD","file":"text_completer_length.js","sourcesContent":["var session = xenon.session;\n\nvar splitRegex = /[^a-zA-Z_0-9\\$\\-]+/;\n\nmodule.exports = function(info) {\n    var path = info.path;\n\n    return session.getText(path).then(function(text) {\n        text = text;\n        var words = text.split(splitRegex);\n        var wordScores = new Map();\n\n        words.forEach(function(word) {\n            wordScores.set(word, 100 * Math.max(0, 100 - word.length));\n        });\n\n        var wordList = wordScores.keys();\n        return wordList.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: wordScores.get(word),\n                meta: \"local\"\n            };\n        });\n    });\n};\n"]}