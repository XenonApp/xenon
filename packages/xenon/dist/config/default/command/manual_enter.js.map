{"version":3,"sources":["../../../../src/config/default/command/manual_enter.js"],"names":["session","xenon","getClickable","line","pos","i","column","type","name","length","module","exports","info","lines","inputs","cursor","row","clickable","goto","indexOf","callCommand","path"],"mappings":";;AAAA,IAAIA,UAAUC,MAAMD,OAApB;;AAEA,SAASE,YAAT,CAAsBC,IAAtB,EAA4BC,GAA5B,EAAiC;AAC7B,QAAIC,IAAID,IAAIE,MAAZ;AACA,QAAIC,IAAJ;AACA,WAAOF,KAAK,CAAL,IAAUF,KAAKE,CAAL,MAAY,GAAtB,IAA6BF,KAAKE,CAAL,MAAY,GAAhD,EAAqD;AACjDA;AACH;AACD,QAAIF,KAAKE,CAAL,MAAY,GAAhB,EAAqB;AACjBE,eAAO,SAAP;AACH,KAFD,MAEO,IAAIJ,KAAKE,CAAL,MAAY,GAAhB,EAAqB;AACxBE,eAAO,UAAP;AACH,KAFM,MAEA;AACH;AACH;AACDF;AACA,QAAIG,OAAO,EAAX;AACA,WAAOH,IAAIF,KAAKM,MAAT,IAAmBN,KAAKE,CAAL,MAAY,GAA/B,IAAsCF,KAAKE,CAAL,MAAY,GAAzD,EAA8D;AAC1DG,gBAAQL,KAAKE,CAAL,CAAR;AACAA;AACH;AACD,QAAIF,KAAKE,CAAL,MAAY,GAAZ,IAAmBF,KAAKE,CAAL,MAAY,GAAnC,EAAwC;AACpC;AACH;AACD,WAAO;AACHE,cAAMA,IADH;AAEHC,cAAMA;AAFH,KAAP;AAIH;;AAEDE,OAAOC,OAAP,GAAiB,UAASC,IAAT,EAAe;AAC5B,QAAIC,QAAQD,KAAKE,MAAL,CAAYD,KAAxB;AACA,QAAIE,SAASH,KAAKE,MAAL,CAAYC,MAAzB;;AAEA,QAAIZ,OAAOU,MAAME,OAAOC,GAAb,CAAX;;AAEA,QAAIC,YAAYf,aAAaC,IAAb,EAAmBY,MAAnB,CAAhB;AACA,QAAG,CAACE,SAAJ,EAAe;AACX;AACH;AACD,QAAGA,UAAUV,IAAV,KAAmB,SAAtB,EAAiC;AAC7B,eAAOP,QAAQkB,IAAR,CAAa,MAAMD,UAAUT,IAAhB,GAAuB,KAApC,CAAP;AACH,KAFD,MAEO,IAAGS,UAAUV,IAAV,KAAmB,UAAnB,IAAiCU,UAAUT,IAAV,CAAeW,OAAf,CAAuB,GAAvB,MAAgC,CAAC,CAArE,EAAwE;AAC3E,eAAOnB,QAAQoB,WAAR,CAAoBR,KAAKS,IAAzB,EAA+BJ,UAAUT,IAAzC,CAAP;AACH;AACJ,CAfD","file":"manual_enter.js","sourcesContent":["var session = xenon.session;\n\nfunction getClickable(line, pos) {\n    var i = pos.column;\n    var type;\n    while (i >= 0 && line[i] !== '[' && line[i] !== '`') {\n        i--;\n    }\n    if (line[i] === '[') {\n        type = 'bracket';\n    } else if (line[i] === '`') {\n        type = 'backtick';\n    } else {\n        return;\n    }\n    i++;\n    var name = '';\n    while (i < line.length && line[i] !== ']' && line[i] !== '`') {\n        name += line[i];\n        i++;\n    }\n    if (line[i] !== ']' && line[i] !== '`') {\n        return;\n    }\n    return {\n        type: type,\n        name: name\n    };\n}\n\nmodule.exports = function(info) {\n    var lines = info.inputs.lines;\n    var cursor = info.inputs.cursor;\n\n    var line = lines[cursor.row];\n\n    var clickable = getClickable(line, cursor);\n    if(!clickable) {\n        return;\n    }\n    if(clickable.type === 'bracket') {\n        return session.goto('/' + clickable.name + '.md');\n    } else if(clickable.type === 'backtick' && clickable.name.indexOf(':') !== -1) {\n        return session.callCommand(info.path, clickable.name);\n    }\n};\n"]}